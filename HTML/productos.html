<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../CSS/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>

</head>
<body>
    <div id="app">
        <div class="contenido-productos" id="orrialdea"></div>
        <div class="col d-flex justify-content-end me-4" id="cesta-productos">
            <button id="but-cesta-productos" data-bs-toggle="modal" data-bs-target="#miModal">
                <i class="bi bi-basket" style="font-size: 30px;"></i>
            </button>
        </div>
        <div class="containerPage-productos">
            <div class="input-group-estadisticas">
                <div class="col">
                    <button type="button" class="btn añadir btn-lg">Editar categoria</button>
                </div>
                <div class="col">
                    <div class="input-group">
                        <div class="dropdown">
                            <select class="form-select" aria-label="Default select example" style="max-width: 15vw; margin-right: 3vw;" v-model="kategoriak">
                                <option value="all">All</option>
                                <option   v-for="(dato,index) in datosKategoria" :key="index" :value="dato.id">{{ dato.izena }}</option>
                            </select>
                        </div>
                        <input type="text" class="form-control buscar ms-2" placeholder="Buscar por nombre">
                        <div class="input-group-append">
                            <button class="btn lupa" type="button">
                                <i class="bi bi-search"></i>
                            </button>
                            <button type="button" class="btn añadir btn-lg" @click="abrirPopup('')">Añadir producto</button>
                        </div>
                    </div>
                </div>
                
                <table id="tabla" class="table table-hover table-striped">
                    <thead>
                    <tr>
                        <th scope="col">Nombre</th>
                        <th scope="col">Marca</th>
                        <th scope="col">Categoría</th>
                        <th scope="col">Descripción</th>
                        <th scope="col">Stock</th>
                        <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr v-for="(dato, index) in taula" :key="index" :id="dato.id">
                            <td @click="abrirPopup(dato.id)">{{ dato.izena }}</td>
                            <td @click="abrirPopup(dato.id)">{{ dato.marka }}</td>
                            <td @click="abrirPopup(dato.id)">{{ dato.kategoria }}</td>
                            <td @click="abrirPopup(dato.id)">{{ dato.deskribapena }}</td>
                            <td @click="abrirPopup(dato.id)">{{ dato.stock }}</td>
                            <td>
                                <i class="bi bi-trash-fill" @click="ezabatu(dato.id)"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="modal fade" id="miModal" tabindex="-1" role="dialog" aria-labelledby="miModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="miModalLabel">Productos seleccionados</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="table-responsive">
                            <table class="table">
                            <thead class="thead-prod-head">
                                <tr>
                                <th scope="col" class="border-0">
                                    <div class="p-2 px-3 text-uppercase">Productos</div>
                                </th>
                                <th scope="col" class="border-0">
                                    <div class="py-2 text-uppercase">Marca</div>
                                </th>
                                <th scope="col" class="border-0">
                                    <div class="py-2 text-uppercase">Cantidad</div>
                                </th>
                                <th scope="col" class="border-0">
                                    <div class="py-2 text-uppercase"></div>
                                </th>
                                </tr>
                            </thead>
                            <tbody class="taula-pop-produk">
                                <tr v-for="(dato, index) in taula" :key="index" :id="dato.kodea">
                                    <th scope="row" id="prod">
                                        <div class="p-2">
                                            <div class="ml-3 d-inline-block align-middle">
                                                <h5 class="mb-0"><a href="#" class="text-dark d-inline-block">Lumix camera lense</a></h5><span class="text-muted font-weight-normal font-italic">Category: Electronics</span>
                                            </div>
                                        </div>
                                    </th>
                                    <td>dfgdfgfdgdf</td>
                                    <td>w4rwyjyuu</td>
                                    <td>
                                        <i class="bi bi-trash-fill" @click="ezabatu(dato.id)"></i>
                                    </td>
                                </tr>
                                <tr>
                                <th scope="row" id="prod">
                                    <div class="p-2">
                                    <div class="ml-3 d-inline-block align-middle">
                                        <h5 class="mb-0"><a href="#" class="text-dark d-inline-block">Lumix camera lense</a></h5><span class="text-muted font-weight-normal font-italic">Category: Electronics</span>
                                    </div>
                                    </div>
                                </th>
                                <td><strong>$79.00</strong></td>
                                <td><strong>3</strong></td>
                                <td>
                                    <i class="bi bi-trash-fill" @click="ezabatu(dato.id)"></i>
                                </td>
                                </td>
                                </tr>
                                <tr>
                                <th scope="row" id="prod">
                                    <div class="p-2">
                                    <div class="ml-3 d-inline-block align-middle">
                                        <h5 class="mb-0"> <a href="#" class="text-dark d-inline-block">Gray Nike running shoe</a></h5><span class="text-muted font-weight-normal font-italic">Category: Fashion</span>
                                    </div>
                                    </div>
                                </th>
                                    <td><strong>$79.00</strong></td>
                                        <td>
                                            3
                                        </td>
                                    <td>
                                        <i class="bi bi-trash-fill" @click="ezabatu(dato.id)"></i>
                                    </td>
                                    </td>
                                </tr>
                            </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="col">
                            <select class="form-select" aria-label="Default select example">
                                <option   v-for="(dato,index) in datosProduk" :key="index" :value="dato.izena">{{  }}</option>
                            </select>
                        </div>
                        <div class="col">
                            <button id="pop-prod" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Aceptar</button>
                            <button id="pop-prod" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="fondoOscuro" class="fondo-oculto" @click="ocultarVentana()"></div>
        <div class="tablaHorarios" id="tablaEditarP">
            <div class="contenidoTablaProd">
                <div class="input-group-horarios">
                    <button type="button" id="cerrarHorarios" class="btn x" @click="ocultarVentana()">
                        <i class="bi bi-x"></i>
                    </button>
                </div>
                <div>
                    <h3 scope="row">Nombre</h3>
                    <input type="text" v-model="izena">
                    <h3 scope="row" class="mt-3">Marca</h3>
                    <input type="text" v-model="marka">
                    <h3 scope="row" class="mt-3">Categoría</h3>
                    <select class="form-select" aria-label="Default select example" style="max-width: 15vw; margin-right: 3vw;" v-model="kategoria">
                        <option   v-for="(dato,index) in datosKategoria" :key="index" :value="dato.izena">{{ dato.izena }}</option>
                    </select>
                    <h3 scope="row" class="mt-3">Descripción</h3>
                    <div class="form-floating">
                        <textarea class="form-control" type="text" v-model="deskribapena" id="floatingTextarea"></textarea>
                        <label for="floatingTextarea"></label>
                    </div>
                    <h3 scope="row" class="mt-3">Stock</h3>
                    <input type="number" v-model="stock">
                </div>
                <div class="input-group-horarios">
                    <button type="button" id="aceptarHorarios" class="btn añadir btn-lg">Aceptar</button>
                    <button type="button" id="cancelarHorarios" class="btn cancelar btn-lg" @click="ocultarVentana()">Cancelar</button>
                </div>
            </div>
        </div>


    </div>

    <script src="../JS/productos.js"></script>
    <script src="../JS/header.js"></script>
</body>
</html>
